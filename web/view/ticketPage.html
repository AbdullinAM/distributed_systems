<div>

    <ul>
        <li><a ng-href="#/user/{{ticket.user.login}}">Home</a></li>
        <li><a ng-href="#/login">Log out</a></li>
    </ul>

    <p>Ticket {{ticket.instance.id}}</p>
    <p>Milestone: <a ng-href="#/milestone/{{ticket.milestone.id}}">{{ticket.milestone.id}}</a></p>
    <p>Creation time: {{ticket.instance.creationTime| date: 'dd-MM-yyyy'}}</p>
    <p>Creator: <a ng-href="#/user/{{ticket.instance.creator.login}}">{{ticket.instance.creator.login}}</a></p>
    <p>Status: {{ticket.instance.status}}</p>
    <p>Task: {{ticket.instance.task}}</p>

    <div ng-show="ticket.permissions.ticketManager">
        <button ng-click="ticket.changeStatus('OPENED')">Set opened</button>
    </div>
    <div ng-show="ticket.permissions.ticketDeveloper">
        <button ng-click="ticket.changeStatus('ACCEPTED')">Set accepted</button>
        <button ng-click="ticket.changeStatus('IN_PROGRESS')">Set in progress</button>
        <button ng-click="ticket.changeStatus('FINISHED')">Set finished</button>
    </div>
    <div ng-show="ticket.permissions.ticketManager">
        <button ng-click="ticket.changeStatus('CLOSED')">Set closed</button>
    </div>
    <div class="row">
        <div class="column equal">
            <h2>Assignees:</h2>
            <div ng-repeat="it in ticket.assignees" style="background: #EEE; border: solid; margin: 10px; width: 300px;">
                <p><a ng-href="#/user/{{it.login}}">{{it.name}}</a></p>
            </div>
            <div ng-show="ticket.permissions.ticketCommenter">
                <input ng-model="assigneeLogin">
                <button ng-click="ticket.addAssignee()">Add assignee</button>
            </div>
        </div>

        <div class="column equal">
            <h2>Comments:</h2>
            <div ng-repeat="it in (ticket.comments | orderBy: 'date': true)" style="background: #EEE; border: solid; margin: 10px; width: 300px;">
                <p>{{it.date| date: 'dd-MM-yyyy hh:mm:ss'}}</p>
                <p><a ng-href="#/user/{{it.user.login}}">{{it.user.name}}</a>: {{it.description}}</p>
            </div>
            <textarea rows="5" cols="50" ng-model="ticketComment"></textarea>
            <button ng-click="ticket.commentTicket()">comment</button>
        </div>
    </div>
</div>